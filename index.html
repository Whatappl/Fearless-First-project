<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>KJV BIBLE ‚Äî Online</title>
<style>
  :root {
    --bg:#000;
    --card:#07070a;
    --accent:#0ab4ff;
    --muted:#9aa5b1;
    --shadow:0 10px 35px rgba(0,0,0,0.6);
  }

  html, body {
    height:100%;
    margin:0;
    font-family: "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    background: var(--bg);
    color: #efefef;
    overflow-x:hidden;
  }

  /* App container */
  .app {
    max-width:960px;
    margin:0 auto;
    padding:24px;
    animation: fadeIn 1.2s ease-in-out;
  }

  /* Entry animation */
  @keyframes fadeIn {
    from { opacity:0; transform: translateY(10px); }
    to { opacity:1; transform: translateY(0); }
  }

  header {
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    margin-bottom:20px;
  }

  h1 {
    font-size:24px;
    margin:0;
    letter-spacing:2px;
    color:var(--accent);
    text-shadow:0 0 10px rgba(10,180,255,0.3);
    animation: glow 2s ease-in-out infinite alternate;
  }

  @keyframes glow {
    from { text-shadow:0 0 8px rgba(10,180,255,0.4); }
    to { text-shadow:0 0 20px rgba(10,180,255,0.9); }
  }

  .muted { color: var(--muted); font-size:14px; }

  .card {
    background:linear-gradient(180deg,var(--card), #050506);
    border-radius:16px;
    padding:20px;
    box-shadow: var(--shadow);
    border:1px solid rgba(255,255,255,0.05);
    margin-top:18px;
    animation: fadeIn 1.3s ease;
  }

  label {
    display:block;
    font-size:14px;
    color:var(--muted);
    margin-bottom:8px;
  }

  input[type="text"], input[type="search"] {
    width:100%;
    padding:14px;
    border-radius:12px;
    background:transparent;
    border:1px solid rgba(255,255,255,0.08);
    color:#fff;
    font-size:16px;
    outline:none;
    box-sizing:border-box;
    transition: all 0.3s ease;
  }

  input:focus {
    border-color:var(--accent);
    box-shadow:0 0 6px var(--accent);
  }

  button {
    background:var(--accent);
    color:#001;
    font-weight:700;
    border:none;
    padding:12px 16px;
    border-radius:10px;
    cursor:pointer;
    transition: all 0.3s ease;
    font-size:15px;
  }

  button:hover {
    transform: scale(1.03);
    background:#15c6ff;
  }

  .row { display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
  .col { flex:1; }

  .lang-title {
    color:var(--accent);
    margin-top:10px;
    font-weight:700;
    font-size:15px;
  }

  .verse-block {
    background:#07080a;
    padding:14px;
    border-radius:12px;
    margin-top:14px;
    border:1px solid rgba(255,255,255,0.05);
    text-align:left;
    line-height:1.7;
    animation: fadeIn 1s ease;
  }

  footer {
    margin-top:30px;
    text-align:center;
    color:var(--muted);
    font-size:13px;
    padding-bottom:20px;
  }

  .hidden { display:none; }

  @media(max-width:640px){
    .row { flex-direction:column; align-items:stretch; }
    h1 { font-size:20px; }
  }

  /* Decorative divider */
  .divider {
    height:2px;
    width:100%;
    background:linear-gradient(90deg,transparent,var(--accent),transparent);
    margin:20px 0;
    opacity:0.4;
  }

</style>
</head>
<body>
  <div class="app">
    <header>
      <div>
        <h1>KJV BIBLE</h1>
        <div class="muted">Online ‚Ä¢ Made by <strong>Fearless</strong></div>
      </div>
      <div id="userBadge" class="muted"></div>
    </header>

    <div class="divider"></div>

    <!-- NAME SCREEN -->
    <section id="nameCard" class="card">
      <label>Enter Your Name To Proceed</label>
      <div class="row">
        <input id="nameInput" type="text" placeholder="Your name (e.g. Fearless)">
        <button id="nameContinue">Continue</button>
      </div>
      <p class="muted" style="margin-top:10px">This app lets you search and read King James Bible verses online.</p>
    </section>

    <!-- MAIN UI -->
    <section id="mainCard" class="card hidden" aria-hidden="true">
      <div class="row">
        <div class="col">
          <label>Search (reference ‚Äî e.g. John 3:16, Psalm 23)</label>
          <input id="searchInput" type="search" placeholder="Type reference and press Search">
        </div>
        <div style="width:120px">
          <label>&nbsp;</label>
          <button id="searchBtn">Search</button>
        </div>
      </div>

      <div id="statusLine" class="muted" style="margin-top:12px"></div>
      <div id="resultArea" style="margin-top:14px"></div>
    </section>

    <footer>üìñ Produced with ‚ù§Ô∏è by <strong>Fearless</strong> ‚Äî KJV Bible App</footer>
  </div>

<script>
const userBadge = document.getElementById('userBadge');
const nameCard = document.getElementById('nameCard');
const mainCard = document.getElementById('mainCard');
const nameInput = document.getElementById('nameInput');
const nameContinue = document.getElementById('nameContinue');
const searchInput = document.getElementById('searchInput');
const searchBtn = document.getElementById('searchBtn');
const statusLine = document.getElementById('statusLine');
const resultArea = document.getElementById('resultArea');

/* Welcome flow */
nameContinue.addEventListener('click', () => {
  const n = nameInput.value.trim();
  if (!n) return alert('Please enter your name first.');
  userBadge.innerText = `Welcome, ${n}`;
  nameCard.classList.add('hidden');
  mainCard.classList.remove('hidden');
  mainCard.style.animation = 'fadeIn 1.5s ease';
});

/* Search handlers */
searchBtn.addEventListener('click', () => runSearch(searchInput.value.trim()));
searchInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') runSearch(searchInput.value.trim()); });

async function runSearch(query) {
  if (!query) return alert('Please type a Bible reference (e.g. John 3:16)');
  resultArea.innerHTML = `<div class="muted">‚è≥ Searching for "${escapeHtml(query)}"...</div>`;

  const ref = parseReference(query);
  if (ref) {
    try {
      const eng = await fetchEnglishReference(ref.book + ' ' + ref.chapter + (ref.verse ? (':' + ref.verse) : ''));
      resultArea.innerHTML = '';
      addEnglishBlock(eng);
    } catch (err) {
      console.error(err);
      resultArea.innerHTML = `<div class="muted">‚ùå Could not load reference: ${escapeHtml(err.message)}</div>`;
    }
    return;
  }

  resultArea.innerHTML = `<div class="muted">Please use references like "John 3:16" or "Psalm 23".</div>`;
}

/* Fetch from API */
async function fetchEnglishReference(reference) {
  const url = `https://bible-api.com/${encodeURIComponent(reference)}`;
  const r = await fetch(url);
  if (!r.ok) throw new Error('Verse not found or invalid reference.');
  return await r.json();
}

/* Display verse */
function addEnglishBlock(engData) {
  const block = document.createElement('div'); 
  block.className = 'verse-block';
  const h = document.createElement('div'); 
  h.className = 'lang-title'; 
  h.innerText = 'üá¨üáß King James Version (KJV)';
  block.appendChild(h);

  if (Array.isArray(engData.verses) && engData.verses.length) {
    engData.verses.forEach(v => {
      const p = document.createElement('p');
      p.innerHTML = `<span style="color:var(--accent);font-weight:bold">${v.verse}</span> ${escapeHtml(v.text)}`;
      block.appendChild(p);
    });
  } else if (engData.text) {
    const p = document.createElement('pre');
    p.style.whiteSpace='pre-wrap';
    p.textContent = engData.text;
    block.appendChild(p);
  } else {
    const p = document.createElement('div');
    p.className = 'muted';
    p.innerText = 'English text not available.';
    block.appendChild(p);
  }
  resultArea.appendChild(block);
}

/* Parse reference like "John 3:16" */
function parseReference(q) {
  const normalized = q.replace(/\s+/g,' ').trim();
  const m = normalized.match(/^([1-3]?\s?[A-Za-z]+(?:\s[A-Za-z]+)*)\s+(\d+)(?::(\d+))?$/);
  if (!m) return null;
  return { book: m[1].trim(), chapter: m[2], verse: m[3] || null };
}

/* Escape HTML */
function escapeHtml(s) {
  return String(s||'')
    .replace(/&/g,'&amp;')
    .replace(/</g,'&lt;')
    .replace(/>/g,'&gt;');
}
</script>
</body>
</html>
